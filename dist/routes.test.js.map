{"version":3,"file":"routes.test.js","sourceRoot":"","sources":["../test/routes.test.ts"],"names":[],"mappings":";;AAEA,MAAM,cAAc,GAAG,OAAO,CAAC,gCAAgC,CAAC,CAAC;AAEjE,MAAM,CAAC,OAAO,GAAG,CAAC,MAAc,EAAE,EAAE;IACnC,MAAM,CAAC,GAAG,CAAC;QACV,IAAI,EAAE,QAAQ;QACd,WAAW,EAAE,WAAW;QACxB,GAAG,EAAE,OAAO;QACZ,MAAM,EAAE;YACP,KAAK,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;YACzB,OAAO,EAAE,EAAE,IAAI,EAAE,IAAI,EAAE;SACvB;KACD,EAAE,cAAc,CAAC,QAAQ,CAAC,CAAC;IAC5B,MAAM,CAAC,GAAG,CAAC;QACV,IAAI,EAAE,YAAY;QAClB,WAAW,EAAE,kBAAkB;QAC/B,GAAG,EAAE,OAAO;KACZ,EAAE,cAAc,CAAC,WAAW,CAAC,CAAC;IAE/B,MAAM,CAAC,IAAI,CAAC;QACX,IAAI,EAAE,QAAQ;QACd,WAAW,EAAE,gBAAgB;QAC7B,GAAG,EAAE,OAAO;QACZ,MAAM,EAAE;YACP,IAAI,EAAE;gBACL,QAAQ,EAAE,IAAI;gBACd,IAAI,EAAE,QAAQ;aACd;YACD,OAAO,EAAE;gBACR,QAAQ,EAAE,IAAI;gBACd,IAAI,EAAE,IAAI;aACV;YACD,MAAM,EAAE,EAAE,IAAI,EAAE,SAAS,EAAE;YAC3B,WAAW,EAAE;gBACZ,IAAI,EAAE,CAAC,QAAQ,CAAC;gBAChB,MAAM,EAAE;oBACP,MAAM,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,QAAQ,EAAE,IAAI,EAAE;oBAC1C,IAAI,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,QAAQ,EAAE,IAAI,EAAE;iBACxC;aACD;SACD;KACD,EAAE,cAAc,CAAC,UAAU,CAAC,CAAC;IAC9B,MAAM,CAAC,IAAI,CAAC;QACX,IAAI,EAAE,kBAAkB;QACxB,GAAG,EAAE,OAAO;QACZ,MAAM,EAAE;YACP,OAAO,EAAE;gBACR,QAAQ,EAAE,IAAI;gBACd,IAAI,EAAE,QAAQ;aACd;SACD;QACD,WAAW,EAAE,qBAAqB;KAClC,EAAE,cAAc,CAAC,cAAc,CAAC,CAAC;IAElC,MAAM,CAAC,KAAK,CAAC;QACZ,IAAI,EAAE,YAAY;QAClB,WAAW,EAAE,aAAa;QAC1B,GAAG,EAAE,OAAO;QACZ,MAAM,EAAE;YACP,IAAI,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE;YACtB,MAAM,EAAE,EAAE,IAAI,EAAE,OAAO,EAAE;YACzB,gBAAgB,EAAE;gBACjB,IAAI,EAAE,CAAC,MAAM,CAAC;gBACd,MAAM,EAAE;oBACP,MAAM,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE;oBACxC,IAAI,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE;iBACtC;aACD;YACD,kBAAkB,EAAE;gBACnB,IAAI,EAAE,CAAC,MAAM,CAAC;gBACd,MAAM,EAAE;oBACP,MAAM,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE;oBACxC,IAAI,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE;iBACtC;aACD;YACD,kBAAkB,EAAE;gBACnB,IAAI,EAAE,CAAC,MAAM,CAAC;gBACd,MAAM,EAAE;oBACP,MAAM,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE;oBACxC,IAAI,EAAE,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE;iBACtC;aACD;SACD;KACD,EAAE,cAAc,CAAC,QAAQ,CAAC,CAAC;IAE5B,MAAM,CAAC,GAAG,CAAC;QACV,IAAI,EAAE,YAAY;QAClB,GAAG,EAAE,OAAO;QACZ,WAAW,EAAE,gBAAgB;KAC7B,EAAE,cAAc,CAAC,UAAU,CAAC,CAAC;IAC9B,MAAM,CAAC,GAAG,CAAC;QACV,IAAI,EAAE,kBAAkB;QACxB,GAAG,EAAE,OAAO;QACZ,MAAM,EAAE;YACP,OAAO,EAAE;gBACR,QAAQ,EAAE,IAAI;gBACd,IAAI,EAAE,QAAQ;aACd;SACD;QACD,WAAW,EAAE,wBAAwB;KACrC,EAAE,cAAc,CAAC,iBAAiB,CAAC,CAAC;AACtC,CAAC,CAAC","sourcesContent":["import { Server } from \"restify\";\n\nconst listController = require('app/controllers/listController');\n\nmodule.exports = (server: Server) => {\n\tserver.get({\n\t\tpath: '/lists',\n\t\tdescription: 'get lists',\n\t\ttag: 'lists',\n\t\tparams: {\n\t\t\tquery: { type: 'string' },\n\t\t\tcoderId: { type: 'id' },\n\t\t},\n\t}, listController.getLists);\n\tserver.get({\n\t\tpath: '/lists/:id',\n\t\tdescription: 'Get a list by id',\n\t\ttag: 'lists',\n\t}, listController.getListById);\n\n\tserver.post({\n\t\tpath: '/lists',\n\t\tdescription: 'Creates a list',\n\t\ttag: 'lists',\n\t\tparams: {\n\t\t\tname: {\n\t\t\t\trequired: true,\n\t\t\t\ttype: 'string',\n\t\t\t},\n\t\t\tcoachId: {\n\t\t\t\trequired: true,\n\t\t\t\ttype: 'id',\n\t\t\t},\n\t\t\tlocked: { type: 'boolean' },\n\t\t\tsubscribers: {\n\t\t\t\ttype: ['object'],\n\t\t\t\tparams: {\n\t\t\t\t\t_coach: { type: 'string', required: true },\n\t\t\t\t\trole: { type: 'number', required: true },\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t}, listController.createList);\n\tserver.post({\n\t\tpath: '/lists/:id/coder',\n\t\ttag: 'lists',\n\t\tparams: {\n\t\t\tcoderId: {\n\t\t\t\trequired: true,\n\t\t\t\ttype: ObjectId,\n\t\t\t},\n\t\t},\n\t\tdescription: 'add a coder to list',\n\t}, listController.addCoderToList);\n\n\tserver.patch({\n\t\tpath: '/lists/:id',\n\t\tdescription: 'edit a list',\n\t\ttag: 'lists',\n\t\tparams: {\n\t\t\tname: { type: String },\n\t\t\tlocked: { type: Boolean },\n\t\t\taddedSubscribers: {\n\t\t\t\ttype: [Object],\n\t\t\t\tparams: {\n\t\t\t\t\t_coach: { type: String, required: true },\n\t\t\t\t\trole: { type: Number, required: true },\n\t\t\t\t},\n\t\t\t},\n\t\t\tremovedSubscribers: {\n\t\t\t\ttype: [Object],\n\t\t\t\tparams: {\n\t\t\t\t\t_coach: { type: String, required: true },\n\t\t\t\t\trole: { type: Number, required: true },\n\t\t\t\t},\n\t\t\t},\n\t\t\tchangedSubscribers: {\n\t\t\t\ttype: [Object],\n\t\t\t\tparams: {\n\t\t\t\t\t_coach: { type: String, required: true },\n\t\t\t\t\trole: { type: Number, required: true },\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t}, listController.editList);\n\n\tserver.del({\n\t\tpath: '/lists/:id',\n\t\ttag: 'lists',\n\t\tdescription: 'Deletes a list',\n\t}, listController.removeList);\n\tserver.del({\n\t\tpath: '/lists/:id/coder',\n\t\ttag: 'lists',\n\t\tparams: {\n\t\t\tcoderId: {\n\t\t\t\trequired: true,\n\t\t\t\ttype: ObjectId,\n\t\t\t},\n\t\t},\n\t\tdescription: 'delete a coder of list',\n\t}, listController.removeCoderOfList);\n};\n"]}